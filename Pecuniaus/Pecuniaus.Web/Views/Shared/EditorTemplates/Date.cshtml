@model DateTime?
@{
    var value = "";
    if (Model.HasValue)
    {
        if (Model.Value == DateTime.MinValue)
        { value = ""; }
        else
        {
            value = String.Format("{0:d}", Model.Value);
        }
    }
}

@{
    object htmlAttributes = null;
    if (Html.ViewData.ContainsKey("htmlAttributes"))
    {
        htmlAttributes = ViewData["htmlAttributes"];
    }

    var attributes = (IDictionary<string, object>)HtmlHelper.AnonymousObjectToHtmlAttributes(htmlAttributes);
    object cssClass;
    if (attributes.TryGetValue("class", out cssClass) == false)
    {
        cssClass = "";
    }
    attributes["class"] = cssClass + " form-control input-datepicker-close";

}
@Html.TextBox("", value, attributes)
